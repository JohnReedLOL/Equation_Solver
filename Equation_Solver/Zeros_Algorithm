#include <math.h>
#include <stdio.h>

#define THE_EQUATION(x) powf(x,2.0f)-4.0f
#define THE_MAX 3.2E+32f
#define X_BEGIN -32767.0f
#define X_END 32767.0f
#define THRESHOLD 0.00024414062f

int main ()
{
    int hasSolution = 0; // bool
    
    float h= X_BEGIN;
    float k= THE_EQUATION(h) ;
    k= (k > 0.0f) ? k : -k ;
    
    puts("Solutions: ");

    for(float b = nextafterf(h, THE_MAX );b < -0.0078125f; b = nextafterf(b, THE_MAX ) )
    {
        float l = THE_EQUATION(b);
        l = (l > 0.0f) ? l : -l ;

        if( k > THRESHOLD )
        {
            hasSolution = 0;
        }
        else 
        {   
            if( (l>=k) && (hasSolution == 0) )
            {
                    printf("%g \n", h);
                    hasSolution = 1; //bool
            }
        }
    k=l;
    h=b;
    }

hasSolution = 0; //bool
h = 0.0f;
k = THE_EQUATION(h);
k = (k > 0.0f) ? k : -k ;

    for(float b = 0.0078125f; b < X_END; b = nextafterf(b, THE_MAX ) )
    {
        float l = THE_EQUATION(b);
        l = (l > 0.0f) ? l : -l ;

        if( k > THRESHOLD )
        {
            hasSolution = 0;
        }
        else 
        {   
            if( (l>=k) && (hasSolution == 0) )
            {
                    printf("%g \n", h);
                    hasSolution = 1; //bool
            }
        }
    k=l;
    h=b;
    }
return 0;
}
